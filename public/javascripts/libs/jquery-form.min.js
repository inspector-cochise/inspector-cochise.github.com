/*!
 * jQuery Form Plugin
 * version: 2.82 (15-JUN-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(c){function p(){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}c.fn.ajaxSubmit=function(a){function f(b){function d(){function a(){try{var c=(n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document).readyState;p("state = "+c);c.toLowerCase()=="uninitialized"&&setTimeout(a,50)}catch(b){p("Server abort: ",b," (",b.name,")"),
f(t),s&&clearTimeout(s),s=void 0}}var b=h.attr("target"),g=h.attr("action");i.setAttribute("target",r);j||i.setAttribute("method","POST");g!=e.url&&i.setAttribute("action",e.url);!e.skipEncodingOverride&&(!j||/post/i.test(j))&&h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});e.timeout&&(s=setTimeout(function(){u=!0;f(x)},e.timeout));var k=[];try{if(e.extraData)for(var m in e.extraData)k.push(c('<input type="hidden" name="'+m+'" />').attr("value",e.extraData[m]).appendTo(i)[0]);
e.iframeTarget||(q.appendTo("body"),n.attachEvent?n.attachEvent("onload",f):n.addEventListener("load",f,!1));setTimeout(a,15);i.submit()}finally{i.setAttribute("action",g),b?i.setAttribute("target",b):h.removeAttr("target"),c(k).remove()}}function f(a){if(!g.aborted&&!y){try{o=n.contentWindow?n.contentWindow.document:n.contentDocument?n.contentDocument:n.document}catch(b){p("cannot access response document: ",b),a=t}if(a===x&&g)g.abort("timeout");else if(a==t&&g)g.abort("server abort");else if(o&&
o.location.href!=e.iframeSrc||u){n.detachEvent?n.detachEvent("onload",f):n.removeEventListener("load",f,!1);var a="success",d;try{if(u)throw"timeout";var j=e.dataType=="xml"||o.XMLDocument||c.isXMLDoc(o);p("isXml="+j);if(!j&&window.opera&&(o.body==null||o.body.innerHTML=="")&&--B){p("requeing onLoad callback, DOM not available");setTimeout(f,250);return}var h=o.body?o.body:o.documentElement;g.responseText=h?h.innerHTML:null;g.responseXML=o.XMLDocument?o.XMLDocument:o;if(j)e.dataType="xml";g.getResponseHeader=
function(a){return{"content-type":e.dataType}[a]};if(h)g.status=Number(h.getAttribute("status"))||g.status,g.statusText=h.getAttribute("statusText")||g.statusText;var i=/(json|script|text)/.test((e.dataType||"").toLowerCase());if(i||e.textarea){var k=o.getElementsByTagName("textarea")[0];if(k)g.responseText=k.value,g.status=Number(k.getAttribute("status"))||g.status,g.statusText=k.getAttribute("statusText")||g.statusText;else if(i){var l=o.getElementsByTagName("pre")[0],r=o.getElementsByTagName("body")[0];
if(l)g.responseText=l.textContent?l.textContent:l.innerHTML;else if(r)g.responseText=r.innerHTML}}else if(e.dataType=="xml"&&!g.responseXML&&g.responseText!=null)g.responseXML=C(g.responseText);try{z=D(g,e.dataType,e)}catch(A){a="parsererror",g.error=d=A||a}}catch(w){p("error caught: ",w),a="error",g.error=d=w||a}g.aborted&&(p("upload aborted"),a=null);g.status&&(a=g.status>=200&&g.status<300||g.status===304?"success":"error");if(a==="success")e.success&&e.success.call(e.context,z,"success",g),m&&
c.event.trigger("ajaxSuccess",[g,e]);else if(a){if(d==void 0)d=g.statusText;e.error&&e.error.call(e.context,g,a,d);m&&c.event.trigger("ajaxError",[g,e,d])}m&&c.event.trigger("ajaxComplete",[g,e]);m&&!--c.active&&c.event.trigger("ajaxStop");e.complete&&e.complete.call(e.context,g,a);y=!0;e.timeout&&clearTimeout(s);setTimeout(function(){e.iframeTarget||q.remove();g.responseXML=null},100)}}}var i=h[0],k,l,e,m,r,q,n,g,u,s,v=!!c.fn.prop;if(b)for(l=0;l<b.length;l++)k=c(i[b[l].name]),k[v?"prop":"attr"]("disabled",
!1);if(c(":input[name=submit],:input[id=submit]",i).length)alert('Error: Form elements must not have name or id of "submit".');else if(e=c.extend(!0,{},c.ajaxSettings,a),e.context=e.context||e,r="jqFormIO"+(new Date).getTime(),e.iframeTarget?(q=c(e.iframeTarget),k=q.attr("name"),k==null?q.attr("name",r):r=k):(q=c('<iframe name="'+r+'" src="'+e.iframeSrc+'" />'),q.css({position:"absolute",top:"-1000px",left:"-1000px"})),n=q[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",
getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(a){var b=a==="timeout"?"timeout":"aborted";p("aborting upload... "+b);this.aborted=1;q.attr("src",e.iframeSrc);g.error=b;e.error&&e.error.call(e.context,g,b,a);m&&c.event.trigger("ajaxError",[g,e,b]);e.complete&&e.complete.call(e.context,g,b)}},(m=e.global)&&!c.active++&&c.event.trigger("ajaxStart"),m&&c.event.trigger("ajaxSend",[g,e]),e.beforeSend&&e.beforeSend.call(e.context,g,e)===!1)e.global&&
c.active--;else if(!g.aborted){if(b=i.clk)if((k=b.name)&&!b.disabled)if(e.extraData=e.extraData||{},e.extraData[k]=b.value,b.type=="image")e.extraData[k+".x"]=i.clk_x,e.extraData[k+".y"]=i.clk_y;var x=1,t=2;e.forceSync?d():setTimeout(d,10);var z,o,B=50,y,C=c.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&b.documentElement.nodeName!="parsererror"?b:null},
E=c.parseJSON||function(a){return window.eval("("+a+")")},D=function(a,b,e){var d=a.getResponseHeader("content-type")||"",g=b==="xml"||!b&&d.indexOf("xml")>=0,a=g?a.responseXML:a.responseText;g&&a.documentElement.nodeName==="parsererror"&&c.error&&c.error("parsererror");e&&e.dataFilter&&(a=e.dataFilter(a,b));typeof a==="string"&&(b==="json"||!b&&d.indexOf("json")>=0?a=E(a):(b==="script"||!b&&d.indexOf("javascript")>=0)&&c.globalEval(a));return a}}}if(!this.length)return p("ajaxSubmit: skipping submit process - no element selected"),
this;var j,b,h=this;typeof a=="function"&&(a={success:a});j=this.attr("method");b=this.attr("action");(b=(b=typeof b==="string"?c.trim(b):"")||window.location.href||"")&&(b=(b.match(/^([^#]+)/)||[])[1]);a=c.extend(!0,{url:b,success:c.ajaxSettings.success,type:j||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},a);b={};this.trigger("form-pre-serialize",[this,a,b]);if(b.veto)return p("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(a.beforeSerialize&&
a.beforeSerialize(this,a)===!1)return p("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d,k,i=this.formToArray(a.semantic);if(a.data)for(d in a.extraData=a.data,a.data)if(a.data[d]instanceof Array)for(var l in a.data[d])i.push({name:d,value:a.data[d][l]});else k=a.data[d],k=c.isFunction(k)?k():k,i.push({name:d,value:k});if(a.beforeSubmit&&a.beforeSubmit(i,this,a)===!1)return p("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[i,this,
a,b]);if(b.veto)return p("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;d=c.param(i);a.type.toUpperCase()=="GET"?(a.url+=(a.url.indexOf("?")>=0?"&":"?")+d,a.data=null):a.data=d;var m=[];a.resetForm&&m.push(function(){h.resetForm()});a.clearForm&&m.push(function(){h.clearForm()});if(!a.dataType&&a.target){var v=a.success||function(){};m.push(function(b){var d=a.replaceTarget?"replaceWith":"html";c(a.target)[d](b).each(v,arguments)})}else a.success&&m.push(a.success);a.success=function(b,
c,d){for(var j=a.context||a,f=0,i=m.length;f<i;f++)m[f].apply(j,[b,c,d||h,h])};d=c("input:file",this).length>0;l=h.attr("enctype")=="multipart/form-data"||h.attr("encoding")=="multipart/form-data";if(a.iframe!==!1&&(d||a.iframe||l))a.closeKeepAlive?c.get(a.closeKeepAlive,function(){f(i)}):f(i);else{if(c.browser.msie&&j=="get"&&(d=h[0].getAttribute("method"),typeof d==="string"))a.type=d;c.ajax(a)}this.trigger("form-submit-notify",[this,a]);return this};c.fn.ajaxForm=function(a){if(this.length===0){var f=
{s:this.selector,c:this.context};if(!c.isReady&&f.s)return p("DOM not ready, queuing ajaxForm"),c(function(){c(f.s,f.c).ajaxForm(a)}),this;p("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(f){f.isDefaultPrevented()||(f.preventDefault(),c(this).ajaxSubmit(a))}).bind("click.form-plugin",function(a){var b=a.target,f=c(b);if(!f.is(":submit,input:image")){b=f.closest(":submit");if(b.length==0)return;
b=b[0]}var d=this;d.clk=b;if(b.type=="image")a.offsetX!=void 0?(d.clk_x=a.offsetX,d.clk_y=a.offsetY):typeof c.fn.offset=="function"?(f=f.offset(),d.clk_x=a.pageX-f.left,d.clk_y=a.pageY-f.top):(d.clk_x=a.pageX-b.offsetLeft,d.clk_y=a.pageY-b.offsetTop);setTimeout(function(){d.clk=d.clk_x=d.clk_y=null},100)})};c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};c.fn.formToArray=function(a){var f=[];if(this.length===0)return f;var j=this[0],b=a?j.getElementsByTagName("*"):
j.elements;if(!b)return f;var h,d,k,i,l,m;h=0;for(l=b.length;h<l;h++)if(d=b[h],k=d.name)if(a&&j.clk&&d.type=="image")!d.disabled&&j.clk==d&&(f.push({name:k,value:c(d).val()}),f.push({name:k+".x",value:j.clk_x},{name:k+".y",value:j.clk_y}));else if((i=c.fieldValue(d,!0))&&i.constructor==Array){d=0;for(m=i.length;d<m;d++)f.push({name:k,value:i[d]})}else i!==null&&typeof i!="undefined"&&f.push({name:k,value:i});if(!a&&j.clk&&(a=c(j.clk),b=a[0],(k=b.name)&&!b.disabled&&b.type=="image"))f.push({name:k,
value:a.val()}),f.push({name:k+".x",value:j.clk_x},{name:k+".y",value:j.clk_y});return f};c.fn.formSerialize=function(a){return c.param(this.formToArray(a))};c.fn.fieldSerialize=function(a){var f=[];this.each(function(){var j=this.name;if(j){var b=c.fieldValue(this,a);if(b&&b.constructor==Array)for(var h=0,d=b.length;h<d;h++)f.push({name:j,value:b[h]});else b!==null&&typeof b!="undefined"&&f.push({name:this.name,value:b})}});return c.param(f)};c.fn.fieldValue=function(a){for(var f=[],j=0,b=this.length;j<
b;j++){var h=c.fieldValue(this[j],a);h===null||typeof h=="undefined"||h.constructor==Array&&!h.length||(h.constructor==Array?c.merge(f,h):f.push(h))}return f};c.fieldValue=function(a,f){var j=a.name,b=a.type,h=a.tagName.toLowerCase();f===void 0&&(f=!0);if(f&&(!j||a.disabled||b=="reset"||b=="button"||(b=="checkbox"||b=="radio")&&!a.checked||(b=="submit"||b=="image")&&a.form&&a.form.clk!=a||h=="select"&&a.selectedIndex==-1))return null;if(h=="select"){var d=a.selectedIndex;if(d<0)return null;for(var j=
[],h=a.options,k=(b=b=="select-one")?d+1:h.length,d=b?d:0;d<k;d++){var i=h[d];if(i.selected){var l=i.value;l||(l=i.attributes&&i.attributes.value&&!i.attributes.value.specified?i.text:i.value);if(b)return l;j.push(l)}}return j}return c(a).val()};c.fn.clearForm=function(){return this.each(function(){c("input,select,textarea",this).clearFields()})};c.fn.clearFields=c.fn.clearInputs=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var c=
this.type,j=this.tagName.toLowerCase();if(a.test(c)||j=="textarea")this.value="";else if(c=="checkbox"||c=="radio")this.checked=!1;else if(j=="select")this.selectedIndex=-1})};c.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})};c.fn.enable=function(a){a===void 0&&(a=!0);return this.each(function(){this.disabled=!a})};c.fn.selected=function(a){a===void 0&&(a=!0);return this.each(function(){var f=this.type;
if(f=="checkbox"||f=="radio")this.checked=a;else if(this.tagName.toLowerCase()=="option")f=c(this).parent("select"),a&&f[0]&&f[0].type=="select-one"&&f.find("option").selected(!1),this.selected=a})}})(jQuery);
